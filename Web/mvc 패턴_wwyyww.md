# mvc 패턴

## ▶ mvc 패턴이란?
> 코드 재사용에 유용한 설계방식

model, view, controller로 구성되어 있다.

| 구성요소 | 역할 |
| - | - |
| model | - 핵심 비즈니스 로직 담당 <br> - 데이터베이스 관리 | 
| view | 사용자에게 보여지는 화면 | 
| controller | 모델과 뷰가 정보를 주고 받을 수 있게 연결 |



## ▶ mvc 구조 흐름 in spring 
- 디스패처 서블릿이 클라이언트에게 요청을 받는다.
- 핸들러 맵핑이 요청 url을 보고 핸들러 이름을 디스패처 서블릿에게 알려준다.
- 디스패처 서블릿은 해당 핸들러에게 제어권을 넘겨준다.
- 핸들러는 응답에 필요한 서비스를 호출하고 렌더링할 뷰 이름을 디스패처 서블릿에게 전송한다.
- 디스패처 서블릿은 뷰 이름을 뷰 리졸버에게 전달한다.
- 뷰 리졸버는 디스패처 서블릿에게 받은 모델과 컨트롤러를 활용해 원하는 응답을 생성해 보내준다.
- 디스패처 서블릿은 뷰 리졸버에게 받은 것을 클라이언트에게 응답한다.


| 구성요소 | 역할 |
| - | - |
| Dispatcher Servlet | - 모든 request를 처리하는 중심 컨트롤러 <br> - 서블릿 컨테이너에서 http 프로토콜을 통해 들어오는 모든 request에 대해 제일 앞단에서 처리하는 역할 | 
| Handler Mapping | 클라이언트의 요청 Url을 처리할 컨트롤러를 찾아서 Dispatcher Servlet에 전달하는 역할 | 
| controller | 실질적인 요청을 처리하는 곳으로 처리 결과를 Dispatcher Servlet에 반환하는 역할 |
| View Resolver | 컨트롤러의 처리 결과를 만들 view를 결정하는 역할 |



## ✅ mvc1과 mvc2 패턴의 차이
`mvc1 패턴`은 JSP페이지 안에서 로직 처리를 위해 자바 코드를 사용한다. 구조가 단순하지만 JSP 안에서 html과 자바가 함께 사용되면서 복잡하고 유지보수가 어렵다는 단점이 있다.
`mvc2 패턴`은 모든 처리를 JSP에서 하지 않고 서블릿을 만들어 역할 분담을 한다. JSP는 뷰를 담당하고 서블릿은 흐름을 제어하고 비즈니스 로직을 담당한다. 역할이 분리되기 때문에 유지보수가 용이하지만 구조가 복잡해진다는 단점이 있다.




### Reference
https://gyoogle.dev/blog/interview/%EC%9B%B9.html